{% extends 'blog/base.html' %}
{% load static %}

{% block title %}Esqueci a Senha - MeuBlog{% endblock %}

{% block content %}
<div style="text-align: center; margin-top: 40px;">
  <img src="{% static 'blog/picapau.png' %}" alt="Pica-Pau" height="120">
  <h2 style="color: #d62828; margin-top: 10px;">ğŸ”‘ Esqueci a Senha</h2>
  <p style="color: #003f88; max-width: 600px; margin: 1em auto; line-height: 1.6;">
    Digite seu <strong>nome de usuÃ¡rio</strong> e <strong>email cadastrado</strong> para receber 
    instruÃ§Ãµes de redefiniÃ§Ã£o de senha.
  </p>
</div>

<form method="post" style="max-width: 450px; margin: 30px auto; background: white; padding: 2.5em; border-radius: 10px; box-shadow: 0 2px 12px rgba(0,0,0,0.05);">
  {% csrf_token %}
  
  <!-- Campo UsuÃ¡rio -->
  <div style="margin-bottom: 1.5em;">
    <label for="id_username" style="display: block; font-weight: bold; color: #003f88; margin-bottom: 0.5em;">
      ğŸ‘¤ Nome de UsuÃ¡rio
    </label>
    <input 
      type="text" 
      name="username" 
      id="id_username"
      required
      placeholder="Digite seu nome de usuÃ¡rio"
      style="width: 100%; padding: 0.7em; border: 2px solid #ccc; border-radius: 5px; font-size: 1rem;"
    >
    <small style="display: block; margin-top: 0.3em; color: #666; font-size: 0.85rem;">
      O mesmo usuÃ¡rio usado para fazer login
    </small>
  </div>

  <!-- Campo Email -->
  <div style="margin-bottom: 1.5em;">
    <label for="id_email" style="display: block; font-weight: bold; color: #003f88; margin-bottom: 0.5em;">
      ğŸ“§ Email Cadastrado
    </label>
    <input 
      type="email" 
      name="email" 
      id="id_email"
      required
      placeholder="seu@email.com"
      style="width: 100%; padding: 0.7em; border: 2px solid #ccc; border-radius: 5px; font-size: 1rem;"
    >
    <small style="display: block; margin-top: 0.3em; color: #666; font-size: 0.85rem;">
      O email que vocÃª usou no cadastro
    </small>
  </div>

  <!-- BotÃ£o Enviar -->
  <button 
    type="submit" 
    style="width: 100%; padding: 0.8em; background-color: #d62828; color: white; border: none; border-radius: 5px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: all 0.3s;"
    onmouseover="this.style.backgroundColor='#a4161a'"
    onmouseout="this.style.backgroundColor='#d62828'"
  >
    ğŸ”“ Recuperar Senha
  </button>
</form>

<!-- Link para voltar ao login -->
<p style="text-align: center; margin-top: 1.5em; color: #666;">
  Lembrou a senha? <a href="{% url 'login' %}" style="color: #003f88; font-weight: bold;">â† Voltar para o login</a>
</p>

<!-- Dica de SeguranÃ§a -->
<div style="max-width: 600px; margin: 2em auto; padding: 1.5em; background-color: #fff3cd; border-left: 4px solid #fcbf49; border-radius: 5px;">
  <strong style="color: #856404;">ğŸ’¡ Dica de SeguranÃ§a:</strong>
  <p style="color: #856404; margin-top: 0.5em; font-size: 0.9rem; line-height: 1.5;">
    Por questÃµes de seguranÃ§a, vocÃª precisa fornecer tanto o <strong>nome de usuÃ¡rio</strong> 
    quanto o <strong>email cadastrado</strong>. Se os dados estiverem corretos, vocÃª receberÃ¡ 
    instruÃ§Ãµes no email cadastrado.
  </p>
</div>

<!-- InformaÃ§Ã£o sobre o que acontece -->
<div style="max-width: 600px; margin: 1.5em auto; padding: 1.5em; background-color: #e8f4f8; border-left: 4px solid #003f88; border-radius: 5px;">
  <strong style="color: #003f88;">ğŸ“¬ O que acontece depois?</strong>
  <ul style="color: #003f88; margin-top: 0.8em; font-size: 0.9rem; line-height: 1.8; padding-left: 1.5em;">
    <li>Verificaremos se o usuÃ¡rio e email existem no sistema</li>
    <li>Se existirem, vocÃª receberÃ¡ um email com instruÃ§Ãµes</li>
    <li>O email pode levar alguns minutos para chegar</li>
    <li>NÃ£o esqueÃ§a de verificar a pasta de spam/lixo eletrÃ´nico</li>
  </ul>
</div>

<!-- Caso nÃ£o tenha conta -->
<div style="max-width: 600px; margin: 1.5em auto; padding: 1.5em; background-color: #f8f9fa; border-radius: 5px; text-align: center;">
  <p style="color: #666; margin-bottom: 0.8em;">Ainda nÃ£o tem uma conta?</p>
  <a 
    href="{% url 'signup' %}" 
    style="display: inline-block; padding: 0.6em 1.5em; background-color: #003f88; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; transition: all 0.3s;"
    onmouseover="this.style.backgroundColor='#002855'"
    onmouseout="this.style.backgroundColor='#003f88'"
  >
    ğŸ“ Criar uma conta agora
  </a>
</div>

{% endblock %}

{% block extra_css %}
<style>
  /* Efeito de foco nos inputs */
  input:focus {
    outline: none;
    border-color: #003f88 !important;
    box-shadow: 0 0 0 3px rgba(0, 63, 136, 0.1);
  }

  /* AnimaÃ§Ã£o suave */
  form {
    animation: fadeIn 0.5s ease-in;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Responsivo */
  @media (max-width: 768px) {
    form {
      padding: 1.5em !important;
    }
    
    .dica-box {
      margin: 1em 10px !important;
    }
  }
</style>
{% endblock %}

{% block extra_scripts %}
<script>
  // ValidaÃ§Ã£o client-side bÃ¡sica
  document.querySelector('form').addEventListener('submit', function(e) {
    const username = document.getElementById('id_username').value.trim();
    const email = document.getElementById('id_email').value.trim();
    
    if (!username || !email) {
      e.preventDefault();
      alert('âš ï¸ Por favor, preencha todos os campos!');
      return false;
    }
    
    // ValidaÃ§Ã£o bÃ¡sica de email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      e.preventDefault();
      alert('âš ï¸ Por favor, digite um email vÃ¡lido!');
      return false;
    }
  });
  
  // Auto-focus no primeiro campo
  document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('id_username').focus();
  });
</script>
{% endblock %}