{% extends 'blog/base.html' %}
{% load static %}

{% block title %}Painel Administrativo â€“ MeuBlog{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto; padding: 2em;">
  
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2em;">
    <h1 style="color: #003f88; margin: 0;">ğŸ”§ Painel Administrativo</h1>
    <a href="{% url 'post_list' %}" style="padding: 0.6em 1.2em; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px;">
      â† Voltar ao Blog
    </a>
  </div>

  <!-- ESTATÃSTICAS -->
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5em; margin-bottom: 3em;">
    
    <!-- Card: Posts -->
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2em; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
      <div style="font-size: 3em; margin-bottom: 0.3em;">ğŸ“</div>
      <div style="font-size: 2.5em; font-weight: bold;">{{ total_posts }}</div>
      <div style="font-size: 1.1em; opacity: 0.9;">Posts Publicados</div>
    </div>

    <!-- Card: UsuÃ¡rios -->
    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 2em; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
      <div style="font-size: 3em; margin-bottom: 0.3em;">ğŸ‘¥</div>
      <div style="font-size: 2.5em; font-weight: bold;">{{ total_usuarios }}</div>
      <div style="font-size: 1.1em; opacity: 0.9;">UsuÃ¡rios Cadastrados</div>
    </div>

    <!-- Card: ComentÃ¡rios -->
    <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 2em; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
      <div style="font-size: 3em; margin-bottom: 0.3em;">ğŸ’¬</div>
      <div style="font-size: 2.5em; font-weight: bold;">{{ total_comentarios }}</div>
      <div style="font-size: 1.1em; opacity: 0.9;">ComentÃ¡rios</div>
    </div>

    <!-- Card: Categorias -->
    <div style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; padding: 2em; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
      <div style="font-size: 3em; margin-bottom: 0.3em;">ğŸ·ï¸</div>
      <div style="font-size: 2.5em; font-weight: bold;">{{ total_categorias }}</div>
      <div style="font-size: 1.1em; opacity: 0.9;">Categorias</div>
    </div>

  </div>

  <!-- MENU DE GESTÃƒO -->
  <div style="background: white; padding: 2em; border-radius: 10px; box-shadow: 0 2px 12px rgba(0,0,0,0.05); margin-bottom: 3em;">
    <h2 style="color: #003f88; margin-bottom: 1.5em;">âš™ï¸ Gerenciar</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1em;">
      
      <a href="{% url 'admin_categorias' %}" style="padding: 1.5em; background-color: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; text-decoration: none; color: #003f88; text-align: center; transition: all 0.3s;">
        <div style="font-size: 2.5em; margin-bottom: 0.3em;">ğŸ·ï¸</div>
        <div style="font-weight: bold;">Categorias</div>
        <div style="font-size: 0.9em; color: #666; margin-top: 0.3em;">CRUD Completo</div>
      </a>

      <a href="{% url 'admin_posts' %}" style="padding: 1.5em; background-color: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; text-decoration: none; color: #003f88; text-align: center; transition: all 0.3s;">
        <div style="font-size: 2.5em; margin-bottom: 0.3em;">ğŸ“</div>
        <div style="font-weight: bold;">Posts</div>
        <div style="font-size: 0.9em; color: #666; margin-top: 0.3em;">Gerenciar & Excluir</div>
      </a>

      <a href="{% url 'admin_usuarios' %}" style="padding: 1.5em; background-color: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; text-decoration: none; color: #003f88; text-align: center; transition: all 0.3s;">
        <div style="font-size: 2.5em; margin-bottom: 0.3em;">ğŸ‘¥</div>
        <div style="font-weight: bold;">UsuÃ¡rios</div>
        <div style="font-size: 0.9em; color: #666; margin-top: 0.3em;">Ativar/Desativar</div>
      </a>

    </div>
  </div>

  <!-- ATIVIDADE RECENTE -->
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2em;">
    
    <!-- Ãšltimos Posts -->
    <div style="background: white; padding: 2em; border-radius: 10px; box-shadow: 0 2px 12px rgba(0,0,0,0.05);">
      <h3 style="color: #003f88; margin-bottom: 1em;">ğŸ“ Ãšltimos Posts</h3>
      <div style="max-height: 300px; overflow-y: auto;">
        {% for post in ultimos_posts %}
        <div style="padding: 0.8em; border-bottom: 1px solid #eee;">
          <a href="{% url 'post_detail' slug=post.2 %}" style="color: #003f88; font-weight: bold; text-decoration: none;">
            {{ post.1 }}
          </a>
          <div style="font-size: 0.85em; color: #666; margin-top: 0.3em;">
            Por {{ post.4 }} â€¢ {{ post.3|date:"d/m/Y" }}
          </div>
        </div>
        {% empty %}
        <p style="text-align: center; color: #999; padding: 2em;">Nenhum post ainda</p>
        {% endfor %}
      </div>
    </div>

    <!-- Ãšltimos UsuÃ¡rios -->
    <div style="background: white; padding: 2em; border-radius: 10px; box-shadow: 0 2px 12px rgba(0,0,0,0.05);">
      <h3 style="color: #003f88; margin-bottom: 1em;">ğŸ‘¥ Ãšltimos UsuÃ¡rios</h3>
      <div style="max-height: 300px; overflow-y: auto;">
        {% for usuario in ultimos_usuarios %}
        <div style="padding: 0.8em; border-bottom: 1px solid #eee;">
          <div style="font-weight: bold; color: #003f88;">{{ usuario.1 }}</div>
          <div style="font-size: 0.85em; color: #666; margin-top: 0.3em;">
            {{ usuario.2 }} â€¢ {{ usuario.3|date:"d/m/Y" }}
            {% if usuario.4 %}
              <span style="color: #28a745;">âœ“ Ativo</span>
            {% else %}
              <span style="color: #dc3545;">âœ— Inativo</span>
            {% endif %}
          </div>
        </div>
        {% empty %}
        <p style="text-align: center; color: #999; padding: 2em;">Nenhum usuÃ¡rio ainda</p>
        {% endfor %}
      </div>
    </div>

  </div>

</div>
{% endblock %}

{% block extra_css %}
<style>
  a[style*="background-color: #f8f9fa"]:hover {
    background-color: #e9ecef !important;
    border-color: #003f88 !important;
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
</style>
{% endblock %}